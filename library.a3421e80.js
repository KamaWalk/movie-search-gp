const e=localStorage.getItem("data-movies"),t=JSON.parse(e),a=t.watchedMovies,n=t.queueMovies,r=document.querySelector(".library-btn-watched"),i=document.querySelector(".library-btn-queue"),o=document.querySelector("#library-watched"),d=document.querySelector("#library-queued");function s(){if(o.innerHTML="",a&&Array.isArray(a)){(e=>{e.forEach((e=>{const t=JSON.parse(e),a=JSON.parse(t.info),n=document.createElement("div");n.classList.add("movie-item"),n.innerHTML=`\n             <div class="movie-card-template" data-movie-id="${t.id}">\n               <img class='movie-poster' src="${a.poster}" alt="${a.title}" data-id="${t.id}"  data-value='{"voteaverage": "${a.voteaverage}", "releasedate": "${a.releasedate}", "title": "${a.title}", "popularity": "${a.popularity}", "poster": "${a.poster}", "votes": "${a.votes}", "genre": "${a.genre}"}' data-overview="${t.overview}"/>\n\n               <div class='movie-details'>\n                 <h3 class='movie-title'>${a.title}</h3>\n                 <p class='movie-details'>${a.genre} | ${a.releasedate} <span class="vote-average">${a.voteaverage}</span></p>\n               </div>\n             </div>\n           `,o.appendChild(n)}))})(a)}else{const e=document.createElement("div");e.innerHTML='\n     <p class="library__title">\n         <strong>You have no watched movies.</strong><br /><a href="index.html">Select first movie</a> and click "Add to watched" button.\n     </p>',o.appendChild(e)}}d.style.display="none",s(),r.addEventListener("click",(()=>{"none"===o.style.display&&(o.style.display="flex",o.style.flexWrap="wrap",d.style.display="none"),s()})),i.addEventListener("click",(()=>{"none"===d.style.display&&(d.style.display="flex",d.style.flexWrap="wrap",o.style.display="none"),function(){if(d.innerHTML="",n&&Array.isArray(n))n.forEach((e=>{const t=JSON.parse(e),a=JSON.parse(t.info),n=document.createElement("div");n.classList.add("movie-item"),n.innerHTML=`\n             <div class="movie-card-template" data-movie-id="${t.id}">\n               <img class='movie-poster' src="${a.poster}" alt="${a.title}" data-id="${t.id}"  data-value='{"voteaverage": "${a.voteaverage}", "releasedate": "${a.releasedate}", "title": "${a.title}", "popularity": "${a.popularity}", "poster": "${a.poster}", "votes": "${a.votes}", "genre": "${a.genre}"}' data-overview="${t.overview}"/>\n\n               <div class='movie-details'>\n                 <h3 class='movie-title'>${a.title}</h3>\n                 <p class='movie-details'>${a.genre} | ${a.releasedate} <span class="vote-average">${a.voteaverage}</span></p>\n               </div>\n             </div>\n           `,d.appendChild(n)}));else{const e=document.createElement("div");e.innerHTML='\n     <p class="library__title">\n         <strong>You have no queued movies.</strong><br /><a href="index.html">Select first movie</a> and click "Add to queue" button.\n     </p>',d.appendChild(e)}}()}));const l=document.querySelector(".container#library-gallery");(()=>{const e={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};function t(){e.modal.classList.toggle("is-hidden"),e.modal.classList.contains("is-hidden")?(document.removeEventListener("keydown",n),document.removeEventListener("click",r)):(document.addEventListener("keydown",n),document.addEventListener("click",r))}function a(){e.modal.classList.contains("is-hidden")||t()}function n(e){"Escape"===e.key&&a()}function r(t){t.target===e.modal&&a()}l.addEventListener("click",(e=>{if("IMG"===e.target.nodeName){let a=`${e.target.dataset.value}`,n=e.target.dataset.overview,r=JSON.parse(a);document.querySelector("#film-img").innerHTML=`<img src="${r.poster}" alt="Film poster" class="trailer-button" id="film-id" />`,document.querySelector("#film-title").innerHTML=r.title,document.querySelector("#votes").innerHTML=r.votes,document.querySelector("#popul").innerHTML=r.popularity,document.querySelector("#origTitle").innerHTML=r.title,document.querySelector("#genre").innerHTML=r.genre,document.querySelector("#about").innerHTML=n;const i=document.querySelector("#watched-btn"),o=document.querySelector("#queue-btn");i.setAttribute("data-overview",`${e.target.dataset.overview}`),i.setAttribute("data-toparse",`${a}`),i.setAttribute("data-id",`${e.target.dataset.id}`),o.setAttribute("data-overview",`${e.target.dataset.overview}`),o.setAttribute("data-toparse",`${a}`),o.setAttribute("data-id",`${e.target.dataset.id}`),t()}})),e.closeModalBtn.addEventListener("click",t),document.addEventListener("keydown",(e=>{"Escape"===e.key&&a()})),e.modal.addEventListener("click",(t=>{t.target===e.modal&&a()}))})();
//# sourceMappingURL=library.a3421e80.js.map
